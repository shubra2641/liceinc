/**
 * Dark Mode Fallback Support
 * Additional CSS for comprehensive dark mode compatibility
 * Ensures all elements work properly in dark mode across all browsers
 */

/* ===== DARK MODE FALLBACK VARIABLES ===== */
:root {
    /* Fallback dark mode colors for older browsers */
    --fallback-dark-bg: #1a1a1a;
    --fallback-dark-bg-secondary: #2d2d2d;
    --fallback-dark-bg-tertiary: #404040;
    --fallback-dark-text: #ffffff;
    --fallback-dark-text-secondary: #cccccc;
    --fallback-dark-text-muted: #999999;
    --fallback-dark-border: #555555;
    --fallback-dark-border-secondary: #666666;
    --fallback-dark-accent: #007bff;
    --fallback-dark-success: #28a745;
    --fallback-dark-warning: #ffc107;
    --fallback-dark-danger: #dc3545;
    --fallback-dark-info: #17a2b8;
}

/* ===== LEGACY BROWSER SUPPORT ===== */
/* For browsers that don't support CSS custom properties */
.no-css-variables {
    background-color: #1a1a1a;
    color: #ffffff;
}

.no-css-variables input,
.no-css-variables textarea,
.no-css-variables select {
    background-color: #2d2d2d;
    border-color: #555555;
    color: #ffffff;
}

.no-css-variables .btn {
    background-color: #404040;
    border-color: #555555;
    color: #ffffff;
}

.no-css-variables .card {
    background-color: #2d2d2d;
    border-color: #555555;
    color: #ffffff;
}

.no-css-variables .table {
    color: #ffffff;
}

.no-css-variables .table th {
    background-color: #404040;
    border-color: #555555;
    color: #ffffff;
}

.no-css-variables .table td {
    border-color: #555555;
    color: #cccccc;
}

/* ===== DARK MODE FOR SPECIFIC COMPONENTS ===== */
@media (prefers-color-scheme: dark) {
    /* Custom scrollbars for dark mode */
    ::-webkit-scrollbar {
        width: 12px;
        height: 12px;
    }
    
    ::-webkit-scrollbar-track {
        background: #1a1a1a;
        border-radius: 6px;
    }
    
    ::-webkit-scrollbar-thumb {
        background: #404040;
        border-radius: 6px;
        border: 2px solid #1a1a1a;
    }
    
    ::-webkit-scrollbar-thumb:hover {
        background: #555555;
    }
    
    ::-webkit-scrollbar-corner {
        background: #1a1a1a;
    }
    
    /* Firefox scrollbar support */
    * {
        scrollbar-width: thin;
        scrollbar-color: #404040 #1a1a1a;
    }
    
    /* Selection colors for dark mode */
    ::selection {
        background-color: #007bff;
        color: #ffffff;
    }
    
    ::-moz-selection {
        background-color: #007bff;
        color: #ffffff;
    }
    
    /* Focus styles for dark mode */
    *:focus {
        outline: 2px solid #007bff;
        outline-offset: 2px;
    }
    
    /* Link styles for dark mode */
    a {
        color: #60a5fa;
    }
    
    a:hover {
        color: #93c5fd;
    }
    
    a:visited {
        color: #a78bfa;
    }
    
    /* Image adjustments for dark mode */
    img {
        opacity: 0.9;
    }
    
    img:hover {
        opacity: 1;
    }
    
    /* Video and iframe adjustments */
    video,
    iframe {
        opacity: 0.95;
    }
    
    /* SVG adjustments for dark mode */
    svg {
        filter: brightness(0.9);
    }
    
    /* Chart and graph adjustments */
    .chart-container,
    .graph-container {
        background-color: #1a1a1a;
        border: 1px solid #404040;
    }
    
    /* Calendar and date picker adjustments */
    .calendar,
    .datepicker {
        background-color: #2d2d2d;
        border-color: #404040;
        color: #ffffff;
    }
    
    .calendar .day:hover,
    .datepicker .day:hover {
        background-color: #404040;
    }
    
    .calendar .day.selected,
    .datepicker .day.selected {
        background-color: #007bff;
        color: #ffffff;
    }
    
    /* Data table enhancements */
    .data-table {
        background-color: #1a1a1a;
        border-color: #404040;
    }
    
    .data-table th {
        background-color: #2d2d2d;
        border-color: #404040;
        color: #ffffff;
    }
    
    .data-table td {
        border-color: #404040;
        color: #cccccc;
    }
    
    .data-table tbody tr:nth-child(even) {
        background-color: #222222;
    }
    
    .data-table tbody tr:hover {
        background-color: #2d2d2d;
    }
    
    /* Search and filter components */
    .search-box,
    .filter-box {
        background-color: #2d2d2d;
        border-color: #404040;
        color: #ffffff;
    }
    
    .search-box:focus,
    .filter-box:focus {
        border-color: #007bff;
        box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
    }
    
    /* Notification and alert enhancements */
    .notification {
        background-color: #2d2d2d;
        border-color: #404040;
        color: #ffffff;
    }
    
    .notification.success {
        background-color: rgba(40, 167, 69, 0.1);
        border-color: #28a745;
        color: #28a745;
    }
    
    .notification.warning {
        background-color: rgba(255, 193, 7, 0.1);
        border-color: #ffc107;
        color: #ffc107;
    }
    
    .notification.error {
        background-color: rgba(220, 53, 69, 0.1);
        border-color: #dc3545;
        color: #dc3545;
    }
    
    .notification.info {
        background-color: rgba(23, 162, 184, 0.1);
        border-color: #17a2b8;
        color: #17a2b8;
    }
    
    /* Loading and spinner adjustments */
    .spinner,
    .loading {
        border-color: #404040;
        border-top-color: #007bff;
    }
    
    .loading-text {
        color: #cccccc;
    }
    
    /* Progress bar enhancements */
    .progress {
        background-color: #2d2d2d;
        border: 1px solid #404040;
    }
    
    .progress-bar {
        background-color: #007bff;
    }
    
    .progress-bar.success {
        background-color: #28a745;
    }
    
    .progress-bar.warning {
        background-color: #ffc107;
    }
    
    .progress-bar.danger {
        background-color: #dc3545;
    }
    
    /* Tabs and navigation enhancements */
    .nav-tabs {
        border-bottom-color: #404040;
    }
    
    .nav-tabs .nav-link {
        color: #cccccc;
        border-color: transparent;
    }
    
    .nav-tabs .nav-link:hover {
        color: #ffffff;
        border-color: #404040;
    }
    
    .nav-tabs .nav-link.active {
        color: #ffffff;
        background-color: #2d2d2d;
        border-color: #404040 #404040 #2d2d2d;
    }
    
    /* Breadcrumb enhancements */
    .breadcrumb {
        background-color: #2d2d2d;
        border: 1px solid #404040;
    }
    
    .breadcrumb-item a {
        color: #60a5fa;
    }
    
    .breadcrumb-item.active {
        color: #999999;
    }
    
    /* Pagination enhancements */
    .pagination {
        background-color: #2d2d2d;
        border: 1px solid #404040;
    }
    
    .pagination .page-link {
        background-color: #2d2d2d;
        border-color: #404040;
        color: #ffffff;
    }
    
    .pagination .page-link:hover {
        background-color: #404040;
        border-color: #555555;
        color: #ffffff;
    }
    
    .pagination .page-item.active .page-link {
        background-color: #007bff;
        border-color: #007bff;
        color: #ffffff;
    }
    
    .pagination .page-item.disabled .page-link {
        background-color: #2d2d2d;
        border-color: #404040;
        color: #666666;
    }
}

/* ===== DARK MODE CLASS-BASED FALLBACK ===== */
/* Note: Dark mode class-based styles are handled in dark-mode-enhancements.css */

/* ===== ACCESSIBILITY ENHANCEMENTS ===== */
/* High contrast mode support */
@media (prefers-contrast: high) {
    .dark {
        --fallback-dark-bg: #000000;
        --fallback-dark-bg-secondary: #1a1a1a;
        --fallback-dark-bg-tertiary: #333333;
        --fallback-dark-text: #ffffff;
        --fallback-dark-text-secondary: #ffffff;
        --fallback-dark-text-muted: #cccccc;
        --fallback-dark-border: #ffffff;
        --fallback-dark-border-secondary: #ffffff;
    }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    .dark * {
        transition: none !important;
        animation: none !important;
    }
}

/* ===== PRINT STYLES FOR DARK MODE ===== */
@media print {
    .dark {
        background: white !important;
        color: black !important;
    }
    
    .dark * {
        background: white !important;
        color: black !important;
        border-color: black !important;
    }
    
    .dark .btn,
    .dark .card-header {
        display: none !important;
    }
}
